// -*- conf-javaprop -*-
//
// **** WARNING: DO NOT EDIT THIS FILE! Change ContractTable.csv and/or ContractGen.py ****
//

CONTRACT_TYPE
{

	sortKey = a010

//REQUIREMENTS FOR CONTRACT TO APPEAR

	REQUIREMENT
	{
		name = CompleteContract
		type = CompleteContract

		contractType = Early-006-ToTheNorthPole
		minCount = 1

	}


//DATA NODES TO PROCESS FOR CONTRACT USE

//Contract Specific VesselParameterGroup Definition Key (to prevent conflict with other active contracts)
	DATA
	{
		type = string

		craft = KPlanesCraft_Early_010

	}

	DATA
	{
		type = double
		AltMax = Round(@KPlanes:StratosphereHigh * 1000.0)
		ScaledAltMax = Round(@/AltMax / 1000.0)
		title = Maximum altitude
	}

	DATA
	{
		type = string
		DescAltMax = " (Stratosphere High)"
		title = Maximum altitude
	}

	DATA
	{
		type = string
		PrettyAltMax = @/ScaledAltMax.ToString("#,# km")
		title = Maximum altitude
	}

	DATA
	{
		type = string
		PrettyAltRange = altitude of at most @/PrettyAltMax@/DescAltMax
		title = Range for altitude 
	}

	DATA
	{
		type = double
		Distance = Round(@KPlanes:CircumEquator * 1000.0)
		ScaledDistance = Round(@/Distance / 1000.0)
		title = Distance
	}

	DATA
	{
		type = string
		DescDistance = " (Circum Equator)"
		title = Distance
	}

	DATA
	{
		type = string
		PrettyDistance = @/ScaledDistance.ToString("#,# km")
		title = Distance
	}

	DATA
	{
		type = string
		PrettyDistanceRange = distance of at least @/PrettyDistance@/DescDistance
		title = Range for distance 
	}

//CONTRACT DESCRIPTION

	name = Early-010-AroundTheWorld
	title = #autoLOC_KPlanes_Early_010_AroundTheWorld_title
	group = KPlanes_Early
	agent = KACA

	description = #autoLOC_KPlanes_Early_010_AroundTheWorld_description

	synopsis = #autoLOC_KPlanes_Early_010_AroundTheWorld_synopsis

	notes = #autoLOC_KPlanes_Early_010_AroundTheWorld_notes

	completedMessage = #autoLOC_KPlanes_Early_010_AroundTheWorld_completedMessage

//Contract Limits
	maxCompletions = 1
	maxSimultaneous = 1
//	weight = 100.0

	autoAccept = false
	declinable = true
	cancellable = true

	minExpiry = 0.0
	maxExpiry = 0.0
	deadline = 0

//Contract Reward Modifiers
	prestige = Significant
	targetBody = HomeWorld()

//Contract Rewards
	advanceFunds = 80 * @KPlanes:RewardAdvanceFunds
	rewardFunds = 80 * @KPlanes:RewardFunds
	rewardReputation = 30 * @KPlanes:RewardReputation
	rewardScience = 5 * @KPlanes:RewardScience

//Contract Penalties
	failureFunds = 80 * @KPlanes:FailureFunds
	failureReputation = 30 * @KPlanes:FailureReputation


//PARAMETERS FOR CONTRACT COMPLETION

//Craft definition
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = Your aircraft must

		define = @/craft
		dissassociateVesselsOnContractCompletion = true

		PARAMETER
		{
			name = HasCrew
			type = HasCrew
			title = have a certified pilot

			trait = Pilot
			minCrew = 1

			disableOnStateChange = false
			hideChildren = true

		}

		PARAMETER
		{
			name = PartValidation
			type = PartValidation
			title = have wings

			category = Aero

			disableOnStateChange = false
			hideChildren = true

		}

		PARAMETER
		{
			name = All
			type = All
			title = have air breathing engines only

			PARAMETER
			{
				name = PartValidation
				type = PartValidation
				title = not have any solid rocket engines

				NONE
				{
					MODULE
					{
						EngineType = SolidBooster

					}

				}

				disableOnStateChange = false
				hideChildren = true

			}

			PARAMETER
			{
				name = PartValidation
				type = PartValidation
				title = not have any liquid rocket engines

				NONE
				{
					MODULE
					{
						EngineType = LiquidFuel

					}

				}

				disableOnStateChange = false
				hideChildren = true

			}


			PARAMETER
			{
				name = HasResource
				type = HasResource
				title = not have any solid rocket fuel

				resource = SolidFuel
				minQuantity = 0.0
				maxQuantity = 0.0

				disableOnStateChange = false
				hideChildren = true

			}

			PARAMETER
			{
				name = HasResource
				type = HasResource
				title = not have any oxidizer

				resource = Oxidizer
				minQuantity = 0.0
				maxQuantity = 0.0

				disableOnStateChange = false
				hideChildren = true

			}

			disableOnStateChange = false

		}

		disableOnStateChange = false

	}

//Contract Behaviour (Waypoints)
	DATA
	{
		type = double
		Marker1Lat = 0.0
		Marker1Lon = KSC().Location().Longitude() >= 90.0 ? KSC().Location().Longitude() - 90.0 : KSC().Location().Longitude() + 90.0
		Marker2Lat = 0.0
		Marker2Lon = KSC().Location().Longitude() >= 0.0 ? KSC().Location().Longitude() - 180.0 : KSC().Location().Longitude() + 180.0
		Marker3Lat = 0.0
		Marker3Lon = KSC().Location().Longitude() <= 90.0 ? KSC().Location().Longitude() + 90.0 : KSC().Location().Longitude() - 90.0
		title = Marker Locations
	}

	BEHAVIOUR
	{
	    name = WaypointGenerator
	    type = WaypointGenerator

	    PQS_CITY
	    {
	        name = KSC

	        targetBody = HomeWorld()
	        hidden = true
	        icon = ksc
	        pqsCity = KSC
	    }

	    WAYPOINT
	    {
		name = Marker 1

		targetBody = HomeWorld()
		icon = custom
		altitude = 0.0
		latitude = @/Marker1Lat
		longitude = @/Marker1Lon
	    }

	    WAYPOINT
	    {
		name = Marker 2

		targetBody = HomeWorld()
		icon = custom
		altitude = 0.0
		latitude = @/Marker2Lat
		longitude = @/Marker2Lon
	    }

	    WAYPOINT
	    {
		name = Marker 3

		targetBody = HomeWorld()
		icon = custom
		altitude = 0.0
		latitude = @/Marker3Lat
		longitude = @/Marker3Lon
	    }
	}

//Contract Goals
	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = always flying at an @/PrettyAltRange

		vessel = @/craft

		PARAMETER
		{
			name = ReachState
			type = ReachState

			targetBody = HomeWorld()
			situation = FLYING
			maxAltitude = @/AltMax

			disableOnStateChange = false
			hideChildren = true
			hidden = true

		}

		completeInSequence = false
		disableOnStateChange = false
		hideChildren = true

	}

	PARAMETER
	{
		name = VesselParameterGroup
		type = VesselParameterGroup
		title = fly to Marker 1, 2 and 3 in sequence, then return to KSC

		vessel = @/craft

		PARAMETER
		{
			name = Marker1Reached
			type = VisitWaypoint

			index = 1
			distance = 0.0
			horizontalDistance = 1.0
			hideOnCompletion = true
			completedMessage = You reached the Marker 1, head to Marker 2.
			showMessages = true

			completeInSequence = true
			disableOnStateChange = true
			hideChildren = true
			hidden = false

		}

		PARAMETER
		{
			name = Marker2Reached
			type = VisitWaypoint

			index = 2
			distance = 0.0
			horizontalDistance = 1.0
			hideOnCompletion = true
			completedMessage = You reached the Marker 2, head to Marker 3.
			showMessages = true

			completeInSequence = true
			disableOnStateChange = true
			hideChildren = true
			hidden = false

		}

		PARAMETER
		{
			name = Marker3Reached
			type = VisitWaypoint

			index = 3
			distance = 0.0
			horizontalDistance = 1.0
			hideOnCompletion = true
			completedMessage = You reached the Marker 3, head back to KSC.
			showMessages = true

			completeInSequence = true
			disableOnStateChange = true
			hideChildren = true
			hidden = false

		}

		completeInSequence = true
		disableOnStateChange = true
		hideChildren = false

	}

//Recovery Parameter - Landing
	PARAMETER
	{
		name = Any
		type = Any
		title = and then land and stop

		PARAMETER
		{
			name = Any
			type = Any
			title = at one of the following recovery areas

			PARAMETER
			{
				name = VesselParameterGroup
				type = VesselParameterGroup
				title = the KSC Runway

				vessel = @/craft

			PARAMETER
				{
					name = ReachState
					type = ReachState

					targetBody = HomeWorld()
					biome = Runway
					situation = LANDED
					maxSpeed = 0.0

					disableOnStateChange = false
					hideChildren = true

				}

				disableOnStateChange = false
				hideChildren = true		

			}

			PARAMETER
			{
				name = VesselParameterGroup
				type = VesselParameterGroup
				title = or the Spaceplane Hangar Air Terminal

				vessel = @/craft

			PARAMETER
				{
					name = ReachState
					type = ReachState

					targetBody = HomeWorld()
					biome = SPH
					situation = LANDED
					maxSpeed = 0.0

					disableOnStateChange = false
					hideChildren = true

				}

				disableOnStateChange = false
				hideChildren = true		

			}

			disableOnStateChange = false

		}

		completeInSequence = true
		disableOnStateChange = false

	}

//Recovery Parameter - Craft & Kerbal Safety Check
	PARAMETER
	{
		name = All
		type = All
		title = safely

		PARAMETER
		{
			name = VesselNotDestroyed
			type = VesselNotDestroyed
			title = without destroying your aircraft

			vessel = @/craft

		}

		PARAMETER
		{
			name = KerbalDeaths
			type = KerbalDeaths
			title = or killing anyone

			vessel = @/craft

		}

		completeInSequence = true
		disableOnStateChange = true

	}

}
